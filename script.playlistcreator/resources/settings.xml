<?xml version="1.0" encoding="UTF-8"?>
<settings>
    <category label="File Selection">
        <setting id="file_extensions" type="text" label="Allowed Extensions" default=".mp4,.mkv,.avi,.mov,.wmv"/>
        <setting id="exclude_pattern" type="text" label="Exclude Words (comma-separated)" default="sample,trailer"/>
        <setting id="exclude_folders" type="text" label="Exclude Folder Names (comma-separated)" default=""/>
        <setting id="min_file_size" type="number" label="Minimum File Size (MB)" default="50"/>
        <setting id="enable_max_size" type="bool" label="Enable Maximum File Size" default="false"/>
        <setting id="max_file_size" type="number" label="Maximum File Size (MB)" default="0">
            <dependency>
                <enable condition="eq(enable_max_size,true)"/>
            </dependency>
        </setting>
        <setting id="recursive_scan" type="bool" label="Scan Subfolders" default="true"/>
    </category>

    <category label="Sorting and Limiting">
        <setting id="folder_sort_mode" type="select" label="Folder Sorting Order" default="0">
            <constraints>
                <options>
                    <option label="None (Source Order)">0</option>
                    <option label="A-Z">1</option>
                    <option label="Z-A">2</option>
                    <option label="Custom">3</option>
                </options>
            </constraints>
        </setting>
        <setting id="custom_folder_order" type="text" label="Custom Folder Order (comma-separated)" default="">
            <dependency>
                <enable condition="eq(folder_sort_mode,3)"/>
            </dependency>
        </setting>
        <setting id="sort_mode" type="select" label="File Sorting Order" default="0">
            <constraints>
                <options>
                    <option label="Newest First">0</option>
                    <option label="A-Z">1</option>
                    <option label="Z-A">2</option>
                    <option label="Random">3</option>
                    <option label="File Size (Smallest First)">4</option>
                    <option label="File Size (Largest First)">5</option>
                    <option label="Duration (Shortest First)">6</option>
                    <option label="Duration (Longest First)">7</option>
                </options>
            </constraints>
        </setting>
        <setting id="newest_files" type="number" label="Number of Newest Files to Prioritize" default="0"/>
        <setting id="limit_mode" type="select" label="File Limit Mode" default="0">
            <constraints>
                <options>
                    <option label="Per Folder">0</option>
                    <option label="Total (Playlist)">1</option>
                </options>
            </constraints>
        </setting>
        <setting id="file_count" type="number" label="Max Files Per Folder" default="20">
            <dependency>
                <enable condition="eq(limit_mode,0)"/>
            </dependency>
        </setting>
        <setting id="total_file_count" type="number" label="Max Files Total (Playlist)" default="100">
            <dependency>
                <enable condition="eq(limit_mode,1)"/>
            </dependency>
        </setting>
    </category>

    <category label="Playlist Display">
        <setting id="show_folder_names" type="bool" label="Show Folder Names in Playlist" default="true"/>
        <setting id="show_metadata" type="bool" label="Show Metadata (Year, Resolution)" default="true"/>
        <setting id="show_duration" type="bool" label="Show Duration in Playlist" default="true"/>
    </category>

    <category label="Scheduled Updates">
        <setting id="enable_timer" type="bool" label="Enable Scheduled Updates" default="false"/>
        <setting id="update_interval" type="select" label="Update Interval" default="1">
            <constraints>
                <options>
                    <option label="Hourly">0</option>
                    <option label="Daily">1</option>
                    <option label="Weekly">2</option>
                </options>
            </constraints>
        </setting>
        <setting id="update_time" type="text" label="Update Time (HH:MM)" default="03:00">
            <dependency>
                <enable condition="or(eq(update_interval,1),eq(update_interval,2))"/>
            </dependency>
        </setting>
        <setting id="last_update" type="text" label="Last Update Time" default="Never" visible="false"/>
        <setting id="auto_update" type="bool" label="Update All Sets on Addon Start" default="false"/>
    </category>

    <category label="Backups">
        <setting id="enable_backups" type="bool" label="Enable Playlist Backups" default="true"/>
        <setting id="max_backups" type="number" label="Number of Backups to Keep" default="3"/>
    </category>

    <category label="Context Menu &amp; Download">
        <setting id="download_path" type="folder" label="Default Download Path" default=""/>
        <setting id="download_path_adult" type="folder" label="Adult Content Download Path" default=""/>
        <setting id="enable_auto_clean" type="bool" label="Auto-clean filenames on download" default="true"/>
    </category>

    <category label="Advanced">
        <setting id="debug_logging" type="bool" label="Enable Debug Logging" default="false" visible="false"/>
    </category>
</settings>